<!DOCTYPE html>
<html>
<head>
  <title></title>
  <script type="text/javascript" src="resume.json"></script>
</head>
<script type="text/javascript">
  
  /*
  // Variables
  let xhttp = new XMLHttpRequest();
  let parser = new DOMParser();

  // Callbacks on change
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      let xmlDoc = parser.parseFromString(this.responseText, "text/xml");
      document.getElementById("mc-fill").innerHTML = parseProject(xmlDoc.getElementsByTagName("project")[0]);
    }
  };
  */

  // When the window is loaded, go ahead and then parse the JSON.
  window.onload = function () { 
    parseResumeJSON(resumeJSON);
  }

  // Parses different possible sections for the resume.
  function parseResumeJSON(json) {
    // For every project, parse content.
    for(let i = 0; i < json.projects.length; i += 1){
      let newItem = parseProject(json.projects[i]);
      document.getElementById("mc-fill").innerHTML = document.getElementById("mc-fill").innerHTML + newItem;
    }
  }

  // Parses a specific project from the object. 
  // Returns string of the parsed project in HTML.
  // Note that this is file-specific!
  function parseProject(project) {
    let accumulated = "";

    for(var key in project) {
      if(project.hasOwnProperty(key)) {
        switch(key) {
          case "name":
            accumulated += parseName(project[key]);
            break;
        }
      }
    }

    return accumulated; 
  }

  function parseName(key_value) {
    return "<p>" + key_value + "</p>";
  }

  function parseShort() {

  }

  /*
      //console.log(project.childNodes[i].nodeValue);
      
      switch(project.childNodes[i].nodeValue) {
        default:
        console.log(project.childNodes[i].nodeValue);
        break;
      }
      
    }
  }

  // Running loading code
  xhttp.open("GET", "resume.xml", true);
  xhttp.send();
  */

</script>
<body id="mc-fill">

</body>
</html>